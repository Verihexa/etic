<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>{{ .Name }}</title>
    <link rel="stylesheet" href="styles/products.css" />
  </head>
  <div class="freeship">500 TL ve Üzeri Ücretsiz Kargo</div>

    <!-- header kısmı başlangıç -->
    <header class="header">
      <!--logo-->

      <a href="/index.html" class="logo">
        <img src="images/logo.jpg" alt="logo" />
      </a>

      <!--navigation bar-->

      <nav class="navbar">
        <a href="/index.html" >Anasayfa</a>
        <a href="/index.html#products">Ürünler</a>
        <a href="#contactus">Bize Ulaşın</a>
      </nav>

      <!--navbar buttons-->

      <div class="buttons">
        
        </button>
        
        <div class="menu-container">
          <input type="checkbox" id="menuBtn">
          <div class="menu-icon">
            <label for="menuBtn" id="menuIcon">
              <i class="fas fa-bars" style="color: #034f56"></i>
              <i class="fas fa-times" style="color: #034f56"></i>
            </label>
          </div>

        <button class="cart-btn">
          <a href="/cart" style="text-decoration: none; color: #034f56;">
            <div style="display: inline-block;">
                <i class="fa-solid fa-cart-shopping" style="color: #034f56"></i>
            </div>
            <div style="display: inline-block;" id="cartItemCount"></div>
        </a>
        </a>
        </button>
       
          <ul class="menu">
            <li><a href="/index.html">Anasayfa</a></li>
            <li><a href="/index.html#products">Ürünler</a></li>
            <li><a href="#contactus">İletişim</a></li>
            <div class="close-icon" onclick="document.getElementById('menuBtn').checked = false;">
              <i class="fas fa-times" style="color: #034f56"></i>
            </div>
          </ul>
        </div>
      </div>
    </header>
    <!-- header kısmı bitiş-->

  <body>
    <section>
      <h1 class="product-name">{{ .Name }}</h1> <!-- Product name retrieved from the database -->
      <p class="product-description">{{ .Description }}</p> <!-- Product description retrieved from the database -->
      <p class="product-price">{{ .Price }} TL</p> <!-- Product price retrieved from the database -->
      <img class="img" src="{{ .ImageURL }}" alt="{{ .Name }}" /> <!-- Product image retrieved from the database -->
      <a class="view-cart" href="/cart">Sepete Git</a> <!-- Button to view the cart -->
      <button class="add-to-cart" onclick="addToCart()">Sepete Ekle</button> <!-- Button to add the product to the cart -->
    </section>
    
    <!-- Bu kısmı ekledik -->
    
    
    <script>
        function addToCart() {
            // Sepete eklenecek ürünün ID'si ve diğer bilgileri buradan alınabilir
            const productId = "{{ .ID }}";
            const productName = "{{ .Name }}";
            const productPrice = "{{ .Price }}";
            // Diğer ürün özelliklerini buraya ekleyin

            // Ürün bilgilerini JSON formatına çevirip localStorage'a ekleyin
            const product = {
                id: productId,
                name: productName,
                price: productPrice,
                // Diğer ürün özelliklerini buraya ekleyin
            };

            // Sepete eklenen ürünleri localStorage'da bir dizi olarak saklayın
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            cartItems.push(product);

            // Diziyi JSON formatına çevirip localStorage'a tekrar ekleyin
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            
        }
        // localStorage'dan sepeti çekin
    var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

// Sepet içeriğindeki ürün sayısını hesaplayın
var cartItemCount = 0;
for (var i = 0; i < cartItems.length; i++) {
    cartItemCount += cartItems[i].count || 1; 
}

// Sepet içeriğindeki ürün sayısını gösterin
var cartItemCountElement = document.getElementById("cartItemCount");
cartItemCountElement.textContent = cartItemCount;
//BURASI YENİ YAZILDI DÜZENLENECEK
    </script>

    <!--ekleme bitiş-->

  </body>
  <footer style="margin: auto 0 0 0;">
    <section class="footer">
      <div class="soci">
        <h1 class="soci">BİZE ULAŞIN</h1>
      </div>
      <div class="btn-soc">
        <a
          href="https://www.instagram.com/verihexa/"
          class="fa-brands fa-whatsapp"
          style="color: #e9e0d2"
        ></a>
        <a
          href="https://www.instagram.com/verihexa/"
          class="fa-brands fa-instagram"
          style="color: #e9e0d2"
        ></a>
        <a
          href="https://www.instagram.com/verihexa/"
          class="fa-brands fa-twitter"
          style="color: #e9e0d2"
        ></a>
      </div>

      <div class="telad-but">
        <a
          href="https://www.instagram.com/verihexa/"
          class="fa-solid fa-phone"
          style="color: #e9e0d2"
        ></a>
        <p class="telveadres">0555 200 02 39</p>
        <br />
        <a
          href="https://www.instagram.com/verihexa/"
          class="fa-solid fa-location-dot"
          style="color: #e9e0d2"
        ></a>
        <p class="telveadres">
          Antalya/Finike
        </p>
      </div>

      <!-- Copyright Section-->
      <div class="copyright">
        <div id="contactus" class="container">
          <a
            class="copyrighttext"
            href="https://www.verihexa.com"
            target="_blank"
            >Copyright &copy; Verihexa Software Solutions 2023</a
          >
        </div>
      </div>
    </section>
  </footer>
</body>
</html>